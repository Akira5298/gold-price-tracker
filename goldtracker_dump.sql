SET @MYSQLDUMP_TEMP_LOG_BIN = @@SESSION.SQL_LOG_BIN;
SET @@SESSION.SQL_LOG_BIN= 0;

DROP TABLE IF EXISTS `collectionlogs`;

CREATE TABLE `collectionlogs` (
  `id` int NOT NULL AUTO_INCREMENT,
  `collectiondate` date NOT NULL,
  `collectiontime` datetime DEFAULT CURRENT_TIMESTAMP,
  `status` enum('SUCCESS','FAILED') NOT NULL,
  `errormessage` text,
  `pricecollected` decimal(10,2) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

LOCK TABLES `collectionlogs` WRITE;

UNLOCK TABLES;

DROP TABLE IF EXISTS `goldprice`;

CREATE TABLE `goldprice` (
  `id` int NOT NULL AUTO_INCREMENT,
  `price` decimal(10,2) NOT NULL,
  `collecteddate` date NOT NULL,
  `collectedtime` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `collecteddate` (`collecteddate`),
  KEY `idx_date` (`collecteddate`)
) ENGINE=InnoDB AUTO_INCREMENT=54 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

LOCK TABLES `goldprice` WRITE;

INSERT INTO `goldprice` VALUES (1,2045.30,'2025-11-01','2025-11-01 12:00:00'),(2,2048.75,'2025-11-02','2025-11-02 12:00:00'),(3,2052.10,'2025-11-03','2025-11-03 12:00:00'),(4,2049.85,'2025-11-04','2025-11-04 12:00:00'),(5,2055.40,'2025-11-05','2025-11-05 12:00:00'),(6,2058.90,'2025-11-06','2025-11-06 12:00:00'),(7,2062.25,'2025-11-07','2025-11-07 12:00:00'),(8,2059.60,'2025-11-08','2025-11-08 12:00:00'),(9,2063.45,'2025-11-09','2025-11-09 12:00:00'),(10,2067.80,'2025-11-10','2025-11-10 12:00:00'),(11,2065.15,'2025-11-11','2025-11-11 12:00:00'),(12,2070.50,'2025-11-12','2025-11-12 12:00:00'),(13,2068.20,'2025-11-13','2025-11-13 12:00:00'),(14,2072.85,'2025-11-14','2025-11-14 12:00:00'),(15,2069.40,'2025-11-15','2025-11-15 12:00:00'),(16,2074.95,'2025-11-16','2025-11-16 12:00:00'),(17,2071.30,'2025-11-17','2025-11-17 12:00:00'),(18,2076.60,'2025-11-18','2025-11-18 12:00:00'),(19,2080.15,'2025-11-19','2025-11-19 12:00:00'),(20,2077.85,'2025-11-20','2025-11-20 12:00:00'),(21,2083.40,'2025-11-21','2025-11-21 12:00:00'),(22,2086.70,'2025-11-22','2025-11-22 12:00:00'),(23,2084.20,'2025-11-23','2025-11-23 12:00:00'),(24,2089.55,'2025-11-24','2025-11-24 12:00:00'),(25,2092.90,'2025-11-25','2025-11-25 12:00:00'),(26,2090.35,'2025-11-26','2025-11-26 12:00:00'),(27,2095.80,'2025-11-27','2025-11-27 12:00:00'),(28,2093.15,'2025-11-28','2025-11-28 12:00:00'),(29,2098.60,'2025-11-29','2025-11-29 12:00:00'),(30,2096.25,'2025-11-30','2025-11-30 12:00:00'),(31,2101.50,'2025-12-01','2025-12-01 12:00:00'),(32,2099.80,'2025-12-02','2025-12-02 12:00:00'),(33,2104.35,'2025-12-03','2025-12-03 12:00:00'),(34,2107.90,'2025-12-04','2025-12-04 12:00:00'),(35,2105.20,'2025-12-05','2025-12-05 12:00:00'),(36,2110.65,'2025-12-06','2025-12-06 12:00:00'),(37,2108.40,'2025-12-07','2025-12-07 12:00:00'),(38,2113.75,'2025-12-08','2025-12-08 12:00:00'),(39,2111.10,'2025-12-09','2025-12-09 12:00:00'),(40,2116.55,'2025-12-10','2025-12-10 12:00:00'),(41,2114.90,'2025-12-11','2025-12-11 12:00:00'),(42,2119.30,'2025-12-12','2025-12-12 12:00:00'),(43,2117.65,'2025-12-13','2025-12-13 12:00:00'),(44,2122.40,'2025-12-14','2025-12-14 12:00:00'),(45,2120.85,'2025-12-15','2025-12-15 12:00:00'),(46,2125.20,'2025-12-16','2025-12-16 12:00:00'),(47,2123.50,'2025-12-17','2025-12-17 12:00:00'),(48,2128.95,'2025-12-18','2025-12-18 12:00:00'),(49,2126.30,'2025-12-19','2025-12-19 12:00:00'),(50,2131.70,'2025-12-20','2025-12-20 12:00:00'),(51,2129.15,'2025-12-21','2025-12-21 12:00:00'),(52,2134.60,'2025-12-22','2025-12-22 12:00:00'),(53,2132.45,'2025-12-23','2025-12-23 12:00:00');

UNLOCK TABLES;

DROP TABLE IF EXISTS `pricestatistics`;

CREATE TABLE `pricestatistics` (
  `id` int NOT NULL AUTO_INCREMENT,
  `statdate` date NOT NULL,
  `dailyavg` decimal(10,2) DEFAULT NULL,
  `dailymin` decimal(10,2) DEFAULT NULL,
  `dailymax` decimal(10,2) DEFAULT NULL,
  `weeklyavg` decimal(10,2) DEFAULT NULL,
  `monthlyavg` decimal(10,2) DEFAULT NULL,
  `pricechange` decimal(10,2) DEFAULT NULL,
  `percentchange` decimal(5,2) DEFAULT NULL,
  `updatedat` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `statdate` (`statdate`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

LOCK TABLES `pricestatistics` WRITE;

UNLOCK TABLES;

DROP TABLE IF EXISTS `pricesummary`;

SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;

SET character_set_client = @saved_cs_client;

DROP TABLE IF EXISTS `recentprices`;

SET @saved_cs_client     = @@character_set_client;
SET character_set_client = utf8;

SET character_set_client = @saved_cs_client;


SET @@GLOBAL.GTID_PURGED='c8d13f90-dee2-11f0-9f53-f02e15e0230c:1-24';

